<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR.html11/DTD.html11.dtd">
<html xmlns="http://www.w3.org/1999.html" xml:lang="ko"><head><meta http-equiv="Cache-Control" content="no-cache"/><meta http-equiv="Pragma" content="no-cache"/><meta http-equiv="Expires" content="-1"/><title>브라우저의 LocalStorage에 값을 저장, 삭제, 반환받기</title><link rel="stylesheet" href="css/book.css" type="text/css" /><meta http-equiv="Content-Type" content="application.html+xml; charset=utf-8" /><meta name="EPB-UUID" content="b3283707c39ac371" /></head><body><div class="chapter_content"><h1 id="r_f9dba4408a113397" class="chapter_title">브라우저의 LocalStorage에 값을 저장, 삭제, 반환받기</h1><h1 id="r_bf8604d9cb465298" class="element heading1" data-element-id="bf8604d9cb465298"><div class="r_heading_inner"><span class="heading1_n">1</span><span>개요</span></div></h1><pre id="r_97e215d4cfd5af0e" class="element pre" data-element-id="97e215d4cfd5af0e">'$p.local' 객체 하위의 함수를 이용하여 브라우저의 LocalStorage에 값을 저장, 삭제, 반환받습니다.</pre><p id="r_bc008a9286426f27" class="element r_example_link_p" data-element-id="bc008a9286426f27"><a class="link" target="_blank" href="http://example.websquare.kr/link.html?p=P00268">P00270</a></p><div id="r_89dd16a2ead77861" class="element caution" data-element-id="89dd16a2ead77861"><p>브라우저의 LocalStorage는 모든 화면에 영향을 미치므로 사용 시 주의가 필요합니다.</p></div><div id="r_81182008a39eaa72" class="element note" data-element-id="81182008a39eaa72"><p>'$p.local'객체 하위의 함수와 속성은 HTML5 LocalStorage를 사용하여 구현된 기능입니다.</p><p>LocalStorage는 도메인(사이트)별로 브라우저에서 임의의 영역에 데이터를 저장하는 기능으로, 브라우저 설정에 따라 저장할 수 있는 데이터 양이 결정됩니다.</p><p>쿠키와 비슷하지만 만료일이 없고, 브라우저에 따라 저장 가능한 용량이 5MB ~ 10MB 사이입니다.</p><p>멀티 브라우징을 위해 5MB 이하로 저장하는 것을 권장합니다.</p><p>IE 하위 버전도 지원되며 세부 내용 및 스펙은 http://www.w3.org/TR/webstorage/#storage 참조하세요.</p></div><h1 id="r_4e78270da705db73" class="element heading1" data-element-id="4e78270da705db73"><div class="r_heading_inner"><span class="heading1_n">2</span><span>구현된 기능</span></div></h1><ul id="r_9ebcd75e531a6ddd" class="element unordered_list" data-element-id="9ebcd75e531a6ddd"><li><p>LocalStorage에 값을 저장하기</p></li><li><p>LocalStorage에 값을 반환받기</p></li><li><p>LocalStorage에 값을 삭제하기</p></li></ul><h1 id="r_a9f3dc9dd829252d" class="element heading1" data-element-id="a9f3dc9dd829252d"><div class="r_heading_inner"><span class="heading1_n">3</span><span>예제 테스트 방법</span></div></h1><h2 id="r_1d7e330e351a4ded" class="element heading2" data-element-id="1d7e330e351a4ded"><div class="r_heading_inner"><span class="heading2_n">3.1</span><span>화면의 초기 상태 확인하기</span></div></h2><pre id="r_1b05a800ff314865" class="element pre" data-element-id="1b05a800ff314865">화면이 로딩되면 예제 테스트를 위해 기 저장된 LocalStorage의 키 "EXAMPLE_P00270"를 삭제합니다.</pre><pre id="r_bdbeb413640f7a10" class="element pre" data-element-id="bdbeb413640f7a10">다음은 화면에 구성된 각 버튼의 기능 설명입니다.</pre><ul id="r_aace1cf727d33ad2" class="element unordered_list" data-element-id="aace1cf727d33ad2"><li><p><span class="r_btn_style_span">페이지 열기</span> : 별도의 페이지가 열립니다. 저장된 LocalStorage의 값을 반환 받는 테스트를 할 수 있습니다.</p></li><li><p><span class="r_exec_btn_style_span">$p.local.setItem</span> : LocalStorage의 키 "EXAMPLE_P00270"에 "한글_Abc_一二三"을 할당합니다.</p></li><li><p><span class="r_exec_btn_style_span">$p.local.getItem</span> : LocalStorage의 키 "EXAMPLE_P00270"에 할당된 값을 반환받습니다.</p></li><li><p><span class="r_exec_btn_style_span">$p.local.removeItem</span> : LocalStorage의 키 "EXAMPLE_P00270"를 삭제합니다.</p></li></ul><h2 id="r_5913a14706e7fd3a" class="element heading2" data-element-id="5913a14706e7fd3a"><div class="r_heading_inner"><span class="heading2_n">3.2</span><span>LocalStorage에 값을 저장하고 반환받기</span></div></h2><p id="r_3cc4fcf03e9287ca" class="element r_heading_dt_p" data-element-id="3cc4fcf03e9287ca">STEP1. LocalStorage에 저장된 값을 확인합니다.</p><pre id="r_afded5aa986ad706" class="element pre" data-element-id="afded5aa986ad706">버튼 <span class="r_exec_btn_style_span">$p.local.getItem</span>를 클릭합니다.
LocalStorage에 키 "EXAMPLE_P00270"에 할당된 값을 확인합니다.
저장된 값이 없기 때문에 null이 반환됩니다.</pre><pre id="r_e2c46e077515dbb8" class="element pre" data-element-id="e2c46e077515dbb8">영역 [<span class="r_blue001_span">로그 확인</span>]에 출력된 로그를 확인합니다.
-----------------------------------------------------------------
로그 예시 
[15:42:11] # LocalStorage의 키 "EXAMPLE_P00270"의 값은 "null" 입니다.
-----------------------------------------------------------------
(브라우저의 개발자 도구 콘솔에도 로그가 출력되며, 반환된 객체를 확인할 수 있습니다.)</pre><p id="r_38ea2f783300a852" class="element r_heading_dt_p" data-element-id="38ea2f783300a852">STEP2. LocalStorage에 값을 저장합니다.</p><pre id="r_2edfafef409f5f3f" class="element pre" data-element-id="2edfafef409f5f3f">버튼 <span class="r_exec_btn_style_span">$p.local.setItem</span>를 클릭합니다.
LocalStorage의 키 "EXAMPLE_P00270"에 "한글_Abc_一二三"을 할당합니다.</pre><pre id="r_a6965685c0cef060" class="element pre" data-element-id="a6965685c0cef060">영역 [<span class="r_blue001_span">로그 확인</span>]에 로그가 출력됩니다.
-----------------------------------------------------------------
로그 예시 
[15:43:37] # LocalStorage의 키 "EXAMPLE_P00270"에 "한글_Abc_一二三"을 할당합니다.
-----------------------------------------------------------------
(브라우저의 개발자 도구 콘솔에도 로그가 출력됩니다)</pre><p id="r_edd5a276e64b4c14" class="element r_heading_dt_p" data-element-id="edd5a276e64b4c14">STEP3. LocalStorage에 저장된 값을 반환받습니다.</p><pre id="r_e7c28df5bdbb590d" class="element pre" data-element-id="e7c28df5bdbb590d">버튼 <span class="r_exec_btn_style_span">$p.local.getItem</span>를 클릭합니다.
LocalStorage에 키 "EXAMPLE_P00270"에 할당된 값을 반환받습니다.
반환 값 예시) '한글_Abc_一二三'</pre><pre id="r_de26075fbdf9ce09" class="element pre" data-element-id="de26075fbdf9ce09">영역 [<span class="r_blue001_span">로그 확인</span>]에 출력된 로그를 확인합니다.
-----------------------------------------------------------------
로그 예시 
[15:44:51] # LocalStorage의 키 "EXAMPLE_P00270"의 값은 "한글_Abc_一二三" 입니다.
-----------------------------------------------------------------
(브라우저의 개발자 도구 콘솔에도 로그가 출력되며, 반환된 객체를 확인할 수 있습니다.)</pre><p id="r_f9a6d23251f37ea9" class="element r_heading_dt_p" data-element-id="f9a6d23251f37ea9">STEP4. 별도의 페이지를 새 창으로 열기</p><pre id="r_ea45029540d8a1ba" class="element pre" data-element-id="ea45029540d8a1ba">버튼 <span class="r_btn_style_span">페이지 열기</span>를 클릭합니다.
새 창으로 페이지 "P00270P01.xml"가 열립니다.</pre><p id="r_68c90ff4cf4cb4a7" class="element r_heading_dt_p" data-element-id="68c90ff4cf4cb4a7">STEP5. 별도의 페이지에서 LocalStorage에 저장된 값을 반환받습니다.</p><pre id="r_5a102efb3e1450e1" class="element pre" data-element-id="5a102efb3e1450e1">새 창으로 열린 페이지에서 버튼 <span class="r_exec_btn_style_span">$p.local.getItem</span>을 클릭합니다.
LocalStorage에 키 "EXAMPLE_P00270"에 할당된 값을 반환받습니다.
반환 값 예시) '한글_Abc_一二三'</pre><pre id="r_1c7fb4325cec334c" class="element pre" data-element-id="1c7fb4325cec334c">영역 [<span class="r_blue001_span">로그 확인</span>]에 출력된 로그를 확인합니다.
-----------------------------------------------------------------
로그 예시 
[15:51:41] # LocalStorage의 키 "EXAMPLE_P00270"의 값은 "한글_Abc_一二三" 입니다.
-----------------------------------------------------------------
(브라우저의 개발자 도구 콘솔에도 로그가 출력되며, 반환된 객체를 확인할 수 있습니다.)</pre><h2 id="r_8974c3d752301bcf" class="element heading2" data-element-id="8974c3d752301bcf"><div class="r_heading_inner"><span class="heading2_n">3.3</span><span>LocalStorage에 저장된 값을 삭제하기</span></div></h2><p id="r_8fa604aea692f258" class="element r_heading_dt_p" data-element-id="8fa604aea692f258">STEP1. LocalStorage에 값을 삭제합니다.</p><pre id="r_9c8a0efeb4aec9f3" class="element pre" data-element-id="9c8a0efeb4aec9f3">버튼 <span class="r_exec_btn_style_span">$p.local.removeItem</span>를 클릭합니다.
LocalStorage의 키 "EXAMPLE_P00270"를 삭제합니다.</pre><pre id="r_c7eac29453274838" class="element pre" data-element-id="c7eac29453274838">영역 [<span class="r_blue001_span">로그 확인</span>]에 로그가 출력됩니다.
-----------------------------------------------------------------
로그 예시 
[15:58:50] # LocalStorage의 키 "EXAMPLE_P00270"를 삭제합니다.
-----------------------------------------------------------------
(브라우저의 개발자 도구 콘솔에도 로그가 출력됩니다)</pre><p id="r_912c420e35ed8788" class="element r_heading_dt_p" data-element-id="912c420e35ed8788">STEP2. LocalStorage에 저장된 값을 확인합니다.</p><pre id="r_deb6b8bbb402593e" class="element pre" data-element-id="deb6b8bbb402593e">버튼 <span class="r_exec_btn_style_span">$p.local.getItem</span>를 클릭합니다.
LocalStorage에 키 "EXAMPLE_P00270"에 할당된 값을 확인합니다.
반환 값 예시) null</pre><pre id="r_05e61f85717d52a8" class="element pre" data-element-id="05e61f85717d52a8">영역 [<span class="r_blue001_span">로그 확인</span>]에 출력된 로그를 확인합니다.
-----------------------------------------------------------------
로그 예시 
[16:00:02] # LocalStorage의 키 "EXAMPLE_P00270"의 값은 "null" 입니다.
-----------------------------------------------------------------
(브라우저의 개발자 도구 콘솔에도 로그가 출력되며, 반환된 객체를 확인할 수 있습니다.)</pre><h1 id="r_4c3aa76dc7f89dfa" class="element heading1" data-element-id="4c3aa76dc7f89dfa"><div class="r_heading_inner"><span class="heading1_n">4</span><span>구현 예시</span></div></h1><h2 id="r_56990fec73359db3" class="element heading2" data-element-id="56990fec73359db3"><div class="r_heading_inner"><span class="heading2_n">4.1</span><span>LocalStorage에 값을 저장하기</span></div></h2><pre id="r_743a8fbbd705393e" class="element pre" data-element-id="743a8fbbd705393e">원하는 시점에 함수 '$p.local.setItem'를 이용하여 스크립트를 작성합니다.</pre><p id="r_b06d0b7c317feb2f" class="element r_bold_p" data-element-id="b06d0b7c317feb2f">[소스 코드 예시]</p><div id="r_b545fcf8524e3a13" class="element code support_code_numbering" data-element-id="b545fcf8524e3a13"><pre><span class="digits_1 code_line"></span><span class="r_h_comment_span">// 예제 파일에서는 스크립트 scwin.btn_exam1_onclick에 작성되어 있습니다.</span>
<span class="digits_1 code_line"></span>
<span class="digits_1 code_line"></span><span class="r_h_comment_span">// LocalStorage의 키 "EXAMPLE_P00270"에 "한글_Abc_一二三"을 할당합니다.</span>
<span class="digits_1 code_line"></span>$p.local.setItem(<span class="r_h_string_span">"EXAMPLE_P00270"</span>, <span class="r_h_string_span">"한글_Abc_一二三"</span>);</pre></div><h2 id="r_09621aa5b02a3eba" class="element heading2" data-element-id="09621aa5b02a3eba"><div class="r_heading_inner"><span class="heading2_n">4.2</span><span>LocalStorage에 값을 반환받기</span></div></h2><pre id="r_7c1f14597e15befa" class="element pre" data-element-id="7c1f14597e15befa">원하는 시점에 함수 '$p.local.getItem'를 이용하여 스크립트를 작성합니다.</pre><p id="r_05cde8ad6b405704" class="element r_bold_p" data-element-id="05cde8ad6b405704">[소스 코드 예시]</p><div id="r_c0511c770edd394a" class="element code support_code_numbering" data-element-id="c0511c770edd394a"><pre><span class="digits_1 code_line"></span><span class="r_h_comment_span">// 예제 파일에서는 스크립트 scwin.btn_exam2_onclick에 작성되어 있습니다.</span>
<span class="digits_1 code_line"></span>
<span class="digits_1 code_line"></span><span class="r_h_comment_span">// LocalStorage의 키 "EXAMPLE_P00270"의 값을 반환받습니다.</span>
<span class="digits_1 code_line"></span><span class="r_h_keyword_span">let</span> strItem = $p.local.getItem(<span class="r_h_string_span">"EXAMPLE_P00270"</span>);</pre></div><h2 id="r_34953d021347b52f" class="element heading2" data-element-id="34953d021347b52f"><div class="r_heading_inner"><span class="heading2_n">4.3</span><span>LocalStorage에 값을 삭제하기</span></div></h2><pre id="r_5327e9041b186717" class="element pre" data-element-id="5327e9041b186717">원하는 시점에 함수 '$p.local.removetItem'를 이용하여 스크립트를 작성합니다.</pre><p id="r_fb9e86ce59ffcb6e" class="element r_bold_p" data-element-id="fb9e86ce59ffcb6e">[소스 코드 예시]</p><div id="r_c875cca3785cd872" class="element code support_code_numbering" data-element-id="c875cca3785cd872"><pre><span class="digits_1 code_line"></span><span class="r_h_comment_span">// 예제 파일에서는 스크립트 scwin.btn_exam3_onclick에 작성되어 있습니다.</span>
<span class="digits_1 code_line"></span>
<span class="digits_1 code_line"></span><span class="r_h_comment_span">// LocalStorage의 키 "EXAMPLE_P00270"를 삭제합니다.</span>
<span class="digits_1 code_line"></span>$p.local.removeItem(<span class="r_h_string_span">"EXAMPLE_P00270"</span>);</pre></div><h1 id="r_d3969869f6b0311e" class="element heading1" data-element-id="d3969869f6b0311e"><div class="r_heading_inner"><span class="heading1_n">5</span><span>주요 API</span></div></h1><ul id="r_0c8897b21d1dacc6" class="element unordered_list" data-element-id="0c8897b21d1dacc6"><li><p><span class="r_ex_api_utility_span">$p.local.setItem</span></p></li><li><p><span class="r_ex_api_utility_span">$p.local.getItem</span></p></li><li><p><span class="r_ex_api_utility_span">$p.local.removeItem</span></p></li></ul></div></body></html>