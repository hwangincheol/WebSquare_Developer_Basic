<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR.html11/DTD.html11.dtd">
<html xmlns="http://www.w3.org/1999.html" xml:lang="ko"><head><meta http-equiv="Cache-Control" content="no-cache"/><meta http-equiv="Pragma" content="no-cache"/><meta http-equiv="Expires" content="-1"/><title>[Workflow] 다건 통신하기</title><link rel="stylesheet" href="css/book.css" type="text/css" /><meta http-equiv="Content-Type" content="application.html+xml; charset=utf-8" /><meta name="EPB-UUID" content="b3283707c39ac371" /></head><body><div class="chapter_content"><h1 id="r_a4b3e73c0a6cfbc8" class="chapter_title">[Workflow] 다건 통신하기</h1><h1 id="r_f9f15af6607b765b" class="element heading1" data-element-id="f9f15af6607b765b"><div class="r_heading_inner"><span class="heading1_n">1</span><span>개요</span></div></h1><pre id="r_810db7d969094562" class="element pre" data-element-id="810db7d969094562">Workflow를 이용한 다건 통신 예제입니다.
Workflow는 직관적인 GUI를 통해 다수의 복잡한 비동기 통신을 쉽게 호출할 수 있는 기능입니다. 사용자는 각 비동기 호출의 결과에 대한 처리 로직만 간단히 구현하면 됩니다.
정의된 submission과 submission callback 함수의 실행 순서를 보장할 수 있습니다.</pre><p id="r_bea0a271e34dba8e" class="element r_example_link_p" data-element-id="bea0a271e34dba8e"><a class="link" target="_blank" href="http://example.websquare.kr/link.html?p=P00300">P00300</a></p><h1 id="r_bfdf02ffae7917ee" class="element heading1" data-element-id="bfdf02ffae7917ee"><div class="r_heading_inner"><span class="heading1_n">2</span><span>구현된 기능</span></div></h1><ul id="r_3b426c846165ba6c" class="element unordered_list" data-element-id="3b426c846165ba6c"><li><p>workflow로 통신을 순서대로 호출해 순서대로 호출 확인</p></li><li><p>workflow로 통신과 callback 함수 순서를 변경해 순서 보장 확인</p></li><li><p>일반 submission을 연속으로 호출해 workflow와 차이 확인</p></li></ul><h1 id="r_27e76928ea726471" class="element heading1" data-element-id="27e76928ea726471"><div class="r_heading_inner"><span class="heading1_n">3</span><span>예제 테스트 방법</span></div></h1><h2 id="r_20b16ccb5b262e0d" class="element heading2" data-element-id="20b16ccb5b262e0d"><div class="r_heading_inner"><span class="heading2_n">3.1</span><span>버튼 설명</span></div></h2><pre id="r_184354ef176407e9" class="element pre" data-element-id="184354ef176407e9">공통적으로 submission 1, 2, 3은 실행 전 함수인 submit_done과 submit을 포함하고 있습니다. 
그리고 함수가 시작될 때 "로그 확인" 영역에 로그를 출력합니다.</pre><ul id="r_3b8f34f033c32e58" class="element unordered_list" data-element-id="3b8f34f033c32e58"><li><p><span class="r_exec_btn_style_span">Workflow1 - 실행 순서 : 1 2 3</span></p><p>submission과 callback 함수를 쌍으로 실행해 1, 2, 3을 순서대로 실행합니다.</p></li><li><p><span class="r_exec_btn_style_span">Workflow2 - 실행 순서 : 3 1 2, callback 순서 1 2 3</span></p><p>Submission을 먼저 3, 1, 2 순서대로 실행하고, callback을 1, 2, 3 순서대로 실행합니다.</p></li><li><p><span class="r_exec_btn_style_span">Submission - 실행 순서 : 1 2 3</span></p><p>Workflow를 사용하지 않고 submission을 1, 2, 3 순서대로 실행합니다.</p></li></ul><h2 id="r_df9bdac854c9ebe2" class="element heading2" data-element-id="df9bdac854c9ebe2"><div class="r_heading_inner"><span class="heading2_n">3.2</span><span>테스트 방법</span></div></h2><p id="r_c9deb5852a157087" class="element r_heading_dt_p" data-element-id="c9deb5852a157087">STEP 1. 각 버튼을 클릭해 Workflow 혹은 Submission을 실행합니다.</p><div id="r_d310fe8d83cf078c" class="element image" data-element-id="d310fe8d83cf078c"><p class="caption"><span class="image_caption_n">그림 1.</span>버튼 이미지</p><p class="content"><img alt="" src="images/image055.png" width="332" height="102" /></p></div><p id="r_fbcc20410f37ee4e" class="element r_heading_dt_p" data-element-id="fbcc20410f37ee4e">STEP 2. 로그 영역에서 동작을 확인합니다.</p><div id="r_c24b0383e5f68918" class="element image" data-element-id="c24b0383e5f68918"><p class="caption"><span class="image_caption_n">그림 2.</span>Workflow1 - 실행 순서 : 1 2 3 실행 결과</p><p class="content"><img alt="" src="images/image056.png" width="329" height="219" /></p></div><h2 id="r_14f11b6d9a3fc4c0" class="element heading2" data-element-id="14f11b6d9a3fc4c0"><div class="r_heading_inner"><span class="heading2_n">3.3</span><span>실행 결과 비교</span></div></h2><p id="r_1934820326affe18" class="element r_heading_dt_p" data-element-id="1934820326affe18">STEP 1. Workflow1 - 실행 순서 : 1 2 3</p><ul id="r_645d2563d5a5b85b" class="element unordered_list" data-element-id="645d2563d5a5b85b"><li><p>submission과 callback 함수를 쌍으로 1, 2, 3을 순서대로 실행합니다.</p></li><li><p>Workflow는 순서를 보장하기 때문에 여러번 반복적으로 실행하더라도 1, 2, 3 의 순서가 변하지 않는 것을 확인할 수 있습니다.</p></li></ul><div id="r_92e7583a84d47ba0" class="element image" data-element-id="92e7583a84d47ba0"><p class="caption"><span class="image_caption_n">그림 3.</span>Workflow1 - 실행 순서 : 1 2 3</p><p class="content"><img alt="" src="images/image057.png" width="329" height="219" /></p></div><p id="r_4fca745dd6665011" class="element r_heading_dt_p" data-element-id="4fca745dd6665011">STEP 2. Workflow2 - 실행 순서 : 3 1 2, callback 순서 1 2 3</p><ul id="r_44ee717fb3640817" class="element unordered_list" data-element-id="44ee717fb3640817"><li><p>submission을 우선 실행하고 callback 함수를 각각 순서를 지정해 실행합니다.</p></li><li><p>submission은 3 1 2 순서로, callback은 1 2 3 순서로 로그가 출력된 것을 확인할 수 있습니다.</p></li></ul><div id="r_09f45adbbc33ffdc" class="element image" data-element-id="09f45adbbc33ffdc"><p class="caption"><span class="image_caption_n">그림 4.</span>Workflow2 - 실행 순서 : 3 1 2, callback 순서 1 2 3</p><p class="content"><img alt="" src="images/image058.png" width="350" height="215" /></p></div><p id="r_29af04247ffd570e" class="element r_heading_dt_p" data-element-id="29af04247ffd570e">STEP 3. Submission - 실행 순서 : 1 2 3</p><ul id="r_3c564cf5089a9741" class="element unordered_list" data-element-id="3c564cf5089a9741"><li><p>submission을 차례로 1, 2, 3을 실행합니다.</p></li><li><p>script 상으로 순서대로 실행하기 때문에 순서가 보장되지 않습니다.</p></li><li><p>모두 같은 파일을 읽고, 로컬 파일을 읽기 때문에 순서가 유지되는 경우도 있지만 완전히 보장 할 수는 없습니다.</p></li></ul><div id="r_86214724d59d3fc1" class="element image" data-element-id="86214724d59d3fc1"><p class="caption"><span class="image_caption_n">그림 5.</span>Submission - 실행 순서 : 1 2 3</p><p class="content"><img alt="" src="images/image059.png" width="323" height="219" /></p></div><h1 id="r_47491a433bf90094" class="element heading1" data-element-id="47491a433bf90094"><div class="r_heading_inner"><span class="heading1_n">4</span><span>구현 예시</span></div></h1><h2 id="r_65d62721ea7704ac" class="element heading2" data-element-id="65d62721ea7704ac"><div class="r_heading_inner"><span class="heading2_n">4.1</span><span>Workflow 생성하기</span></div></h2><pre id="r_ea816117d8f29fff" class="element pre" data-element-id="ea816117d8f29fff">STEP 1. "Outline &gt; Head" 에서 WorkflowCollection 우클릭 메뉴에서 Workflow 생성을 선택합니다.</pre><div id="r_ce79a9a4b9d45b35" class="element image" data-element-id="ce79a9a4b9d45b35"><p class="caption"><span class="image_caption_n">그림 6.</span>Workflow 생성</p><p class="content"><img alt="" src="images/image060.png" width="278" height="230" /></p></div><pre id="r_df1d11b356530722" class="element pre" data-element-id="df1d11b356530722">STEP 2. Submission 추가 하기
Workflow Manager에서 Type을 submit/submitDone으로 설정하고, Action을 추가할 submission으로 선택합니다.
선택한 다음 추가 버튼을 클릭합니다.
추가 버튼은 이미 추가된 submission이 있는 경우 각각, 마자막에 추가 혹은 선택한 submission 뒤에 추가하는 기능입니다.</pre><div id="r_c901e9f7d2ddcfa4" class="element image" data-element-id="c901e9f7d2ddcfa4"><p class="caption"><span class="image_caption_n">그림 7.</span>Submission 추가</p><p class="content"><img alt="" src="images/image061.png" width="610" height="662" /></p></div><pre id="r_b06b893e3b1451f5" class="element pre" data-element-id="b06b893e3b1451f5">STEP 3. 동작 순서 조정하기
Workflow Manager에서 Type을 submit/submitDone으로 설정하고, Action을 추가할 submission으로 선택합니다.
<img alt="" src="images/image062.png" width="600" height="375" />
➀ : 순차적인 배치. submission과 callback 함수를 순서대로 배치합니다. ex) <span class="r_exec_btn_style_span">Workflow1 - 실행 순서 : 1 2 3</span>
➁ : 병렬 배치. submission을 병렬로 실행하고 callback 함수 실행을 모든 submission 완료 후에 실행하도록 배치합니다. 
ex) <span class="r_exec_btn_style_span">Workflow2 - 실행 순서 : 3 1 2, callback 순서 1 2 3</span>
➂ : 추가된 submission 리스트 마지막에 submission을 추가합니다.
➃ : 리스트에서 선택된 submission 뒤에 새로운 submission을 추가합니다.
➄ : 리스트에서 선택된 submission 삭제합니다.
➅ : 리스트에서 선택된 submssion 혹은 함수의 우선 순위를 앞으로 이동합니다.
➆ : 리스트에서 선택된 submssion 혹은 함수의 우선 순위를 뒤로 이동합니다
➇ : 현재 구성된 실행 리스트를 테이블 형태로 표시합니다.
➈ : 현재 구성된 실행 리스트를 이미지화 해서 표시합니다.</pre><p id="r_b1bf58e83a22462a" class="element r_caption_code_1_p" data-element-id="b1bf58e83a22462a">스크립트 실행</p><div id="r_6256e5f8283309fb" class="element code support_code_numbering" data-element-id="6256e5f8283309fb"><pre><span class="digits_1 code_line"></span><span class="r_h_comment_span">// Workflow 실행</span>
<span class="digits_1 code_line"></span>$p.executeWorkflow(<span class="r_h_string_span">"workflow1"</span>);</pre></div><h1 id="r_ac2601c5a192fc6f" class="element heading1" data-element-id="ac2601c5a192fc6f"><div class="r_heading_inner"><span class="heading1_n">5</span><span>주요 API</span></div></h1><ul id="r_dc559e0298af95d5" class="element unordered_list" data-element-id="dc559e0298af95d5"><li><p><span class="r_ex_api_method_span">$p.executeWorkflow( workflowId )</span></p></li><li><p><span class="r_ex_api_method_span">$p.executeSubmission( submissionID , requestData , obj )</span></p></li></ul><h1 id="r_84a8a8c088c8560a" class="element heading1" data-element-id="84a8a8c088c8560a"><div class="r_heading_inner"><span class="heading1_n">6</span><span>참고 문서</span></div></h1><ul id="r_a293c51e6a836263" class="element unordered_list" data-element-id="a293c51e6a836263"><li><p><em>[웹스퀘어5 예제 가이드]</em> <a class="reference" target="_blank" href="https://docs1.inswave.com/r/document/view/10c58c6491c792c1" data-reference="">Workflow 가이드</a> </p></li><li><p><em>[웹스퀘어5 예제 가이드]</em> <a class="reference" target="_blank" href="https://docs1.inswave.com/r/document/view/15c9ec50633b935d" data-reference="">Submission</a></p></li></ul></div></body></html>